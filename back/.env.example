# ========================
# FleetCore Suite - Backend
# Archivo de ejemplo .env
# ========================

# ------------------------
# Servidor Express
# ------------------------
PORT=5000
# URL del frontend autorizado (para CORS y redirecciones post-login)
CLIENT_URL=http://localhost:5173

# ------------------------
# MongoDB
# ------------------------
# URI de conexión a Mongo (local)
MONGO_URI=mongodb://127.0.0.1:27017/fleetcore
# Alternativa Atlas:
# MONGO_URI=mongodb+srv://<usuario>:<clave>@cluster0.abcde.mongodb.net/fleetcore?retryWrites=true&w=majority

# ------------------------
# Seguridad / JWT
# ------------------------
# Clave secreta usada para firmar JWT internos
JWT_SECRET=change_me_super_secret
# Opcional: rounds de bcrypt para hashear passwords
BCRYPT_SALT_ROUNDS=12
# Opcional: "pepper" extra para password hashing
# PASSWORD_PEPPER=alguna_cadena_extra

# ------------------------
# Microsoft Entra ID (OIDC)
# ------------------------
# Tenant ID (directorio de Azure, GUID único)
AZURE_TENANT_ID=tu_tenant_id
# App (client) ID de la aplicación registrada en Azure
AZURE_CLIENT_ID=tu_client_id
# Client secret de la app registrada en Azure (⚠️ mantener seguro)
AZURE_CLIENT_SECRET=tu_client_secret
# Callback configurado en Azure → debe coincidir exactamente
AZURE_REDIRECT_URI=http://localhost:5000/api/v1/auth/microsoft/callback

# ------------------------
# Restricciones de dominio
# ------------------------
# Solo emails de este dominio podrán loguearse vía Microsoft
ALLOWED_DOMAIN=cbs.cl
# Controla si auto-creamos usuarios que entren con Microsoft
# false = se exige que admin los dé de alta primero
AUTO_PROVISION=false

# ------------------------
# Logs y entorno
# ------------------------
# NODE_ENV=development | production | test
NODE_ENV=development
